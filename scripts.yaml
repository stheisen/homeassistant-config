light_transition_rgb:
  sequence:
    - service: light.turn_on
      data_template:
        transition: "{{ duration | default (3) }}"
        brightness: "{{ brightnessLevel | default(255) }}"
        rgb_color: "{{ colorValue }}"
        entity_id: "{{ entity }}"

light_transition_temp:
  sequence:
    - service: light.turn_on
      data_template:
        transition: "{{ duration | default (3) }}"
        color_temp: "{{ colorValue }}"
        brightness: "{{ brightnessLevel | default(255) }}"
        entity_id: "{{ entity }}"

light_transition_brightness:
  sequence:
    # Dim the provided lights to the provided brightness value
    - service: light.turn_on
      data_template:
        transition: "{{ duration | default (3) }}"
        brightness: "{{ brightnessLevel | default(0) }}"
        entity_id: "{{ entity }}"

in_meeting:
  sequence:
    - service: scene.create
      data:
        scene_id: previous_livingroom_bulb_state
        snapshot_entities:
          - light.bulb_living_room_lamp_main
    - service: light.turn_on
      data:
        brightness: 255
        rgb_color: [200, 0, 0]
        entity_id: light.bulb_living_room_lamp_main

not_in_meeting:
  sequence:
    - service: scene.turn_on
      target:
        entity_id: scene.previous_livingroom_bulb_state
